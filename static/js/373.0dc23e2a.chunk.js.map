{"version":3,"file":"static/js/373.0dc23e2a.chunk.js","mappings":"6LAAO,IAAMA,EAAO,mCACPC,EAAW,8B,uJCAxB,EAAwB,qBAAxB,EAAqD,qBAArD,EAAiF,oB,kBCkGjF,EAzFe,WAAO,IAAD,EACnB,GAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KAEA,GAAwCC,EAAAA,EAAAA,iBAAgB,CAAC,GAAzD,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAK,UAAGF,EAAaG,IAAI,gBAApB,QAAgC,GACrCC,GAAWC,EAAAA,EAAAA,MALE,SAOJC,IAPI,uEAOnB,iGACQN,EAAe,IAAIO,gBAAgB,CACvCC,QAASd,EAAAA,EACTQ,MAAOA,IAEHO,EALR,UAKiBd,EAAAA,EALjB,+BAKgDO,EALhD,YAKyDF,GALzD,kBAOuBU,EAAAA,EAAAA,IAAUD,GAPjC,OAOUE,EAPV,OAQYC,EAASD,EAATC,KACRd,EAAUc,EAAKC,SATnB,kDAWIC,QAAQC,MAAM,yBAAd,MAXJ,0DAPmB,wBAqBnBD,QAAQE,IAAInB,IAEZoB,EAAAA,EAAAA,YAAU,WACRX,GAED,GAAE,IAqBH,OACE,4BACE,+BACE,iBAAMY,SAdS,SAAAC,GAEnB,GADAA,EAAMC,kBACDlB,EAGH,OAFAmB,MAAM,+BACNvB,EAAU,IAGZA,EAAU,IACVQ,GACD,EAKK,UACE,mBAAOgB,UAAWC,EAAlB,WACE,kBACED,UAAWC,EACXC,KAAK,OACLC,MAAOvB,EACPwB,SA5Bc,SAAAP,GACxB,IAAMQ,EAAcR,EAAMS,OAAOH,MACjC,GAAoB,KAAhBE,EACF,OAAO1B,EAAgB,CAAC,GAE1BA,EAAgB,CAAEC,MAAOyB,GAC1B,KAwBS,mBAAQH,KAAK,SAAb,UACE,SAAC,MAAD,CAAUK,KAAK,kBAKvB,yBACqB,IAAlBhC,EAAOiC,OACNjC,EAAOkC,KAAI,SAAAC,GAAK,OACd,SAAC,EAAAC,KAAD,CACEX,UAAWC,EAEXW,GAAE,UAAKF,EAAMG,IACbC,MAAO,CAAEC,KAAMjC,GAJjB,UAME,0BAKE,uBAAI4B,EAAMM,WATPN,EAAMG,GAHC,KAiBhB,4DAKT,C","sources":["API/API.jsx","webpack://react-homework-template/./src/pages/Movies/Movie.module.css?ed9b","pages/Movies/Movies.jsx"],"sourcesContent":["export const API_KEY = `4edff4826c8bc55fc5b07cfb0ea79ea0`;\nexport const BASE_URL = 'https://api.themoviedb.org/3';\n","// extracted by mini-css-extract-plugin\nexport default {\"label\":\"Movie_label__0TaA-\",\"input\":\"Movie_input__F8q6B\",\"link\":\"Movie_link__XtdTs\",\"movie_card\":\"Movie_movie_card__zsu5X\"};","import { Link } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\nimport { API_KEY, BASE_URL } from 'API/API';\nimport { BiSearch } from 'react-icons/bi';\nimport css from './Movie.module.css';\nimport { useLocation } from 'react-router-dom/dist';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n\n  const [searchParams, setSearchParams] = useSearchParams({});\n  const query = searchParams.get('query') ?? '';\n  const location = useLocation();\n\n  async function getMovies() {\n    const searchParams = new URLSearchParams({\n      api_key: API_KEY,\n      query: query,\n    });\n    const url = `${BASE_URL}/search/movie?query=${query}&${searchParams}`;\n    try {\n      const resp = await axios.get(url);\n      const { data } = resp;\n      setMovies(data.results);\n    } catch (error) {\n      console.error('Error fetching movies:', error);\n    }\n  }\n  console.log(movies);\n\n  useEffect(() => {\n    getMovies();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleInputChange = event => {\n    const searchQuery = event.target.value;\n    if (searchQuery === '') {\n      return setSearchParams({});\n    }\n    setSearchParams({ query: searchQuery });\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    if (!query) {\n      alert('Enter text for search.');\n      setMovies([]);\n      return;\n    }\n    setMovies([]);\n    getMovies();\n  };\n\n  return (\n    <div>\n      <>\n        <form onSubmit={handleSubmit}>\n          <label className={css.label}>\n            <input\n              className={css.input}\n              type=\"text\"\n              value={query}\n              onChange={handleInputChange}\n            />\n            <button type=\"submit\">\n              <BiSearch size=\"1em\" />\n            </button>\n          </label>\n        </form>\n      </>\n      <div>\n        {movies.length !== 0 ? (\n          movies.map(movie => (\n            <Link\n              className={css.link}\n              key={movie.id}\n              to={`${movie.id}`}\n              state={{ from: location }}\n            >\n              <div>\n                {/* <img\n                  src={`https://image.tmdb.org/t/p/w300${movie.poster_path}`}\n                  alt=\"\"\n                /> */}\n                <p>{movie.title}</p>\n              </div>\n            </Link>\n          ))\n        ) : (\n          <div>Please enter search query.</div>\n        )}\n      </div>\n    </div>\n  );\n};\nexport default Movies;\n\nMovies.propTypes = {\n  query: PropTypes.string,\n  movie: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      title: PropTypes.string,\n    })\n  ),\n};\n"],"names":["API_KEY","BASE_URL","useState","movies","setMovies","useSearchParams","searchParams","setSearchParams","query","get","location","useLocation","getMovies","URLSearchParams","api_key","url","axios","resp","data","results","console","error","log","useEffect","onSubmit","event","preventDefault","alert","className","css","type","value","onChange","searchQuery","target","size","length","map","movie","Link","to","id","state","from","title"],"sourceRoot":""}